# FAST-LIO2 Configuration for Livox Mid360
# Optimized for general indoor/outdoor mapping

common:
    lid_topic:  "/livox/lidar"    # Topic from livox_ros_driver2
    imu_topic:  "/livox/imu"      # IMU topic from Mid360
    time_sync_en: false           # Mid360 has internal time sync
    time_offset_lidar_to_imu: 0.0 # Adjust if needed after calibration

preprocess:
    lidar_type: 1                 # 1 = Livox (Avia, Horizon, Mid360, etc.)
    scan_line: 4                  # Number of scan lines for Mid360
    blind: 0.5                    # Minimum detection range (meters)

mapping:
    # IMU noise parameters (adjust based on your environment)
    acc_cov: 0.1                  # Accelerometer noise covariance
    gyr_cov: 0.1                  # Gyroscope noise covariance
    b_acc_cov: 0.0001             # Accelerometer bias covariance
    b_gyr_cov: 0.0001             # Gyroscope bias covariance
    
    # Sensor parameters
    fov_degree: 360               # Field of view (Mid360 = 360Â°)
    det_range: 100.0              # Maximum detection range (meters)
    
    # Extrinsic calibration (IMU to LiDAR transform)
    extrinsic_est_en: false       # Set true for online estimation
    extrinsic_T: [ -0.011, -0.02329, 0.04412 ]  # Translation [x, y, z]
    extrinsic_R: [ 1, 0, 0,       # Rotation matrix (3x3)
                   0, 1, 0,
                   0, 0, 1]

publish:
    path_en: true                 # Publish trajectory path
    scan_publish_en: true         # Publish current scan
    dense_publish_en: true        # Publish dense map
    scan_bodyframe_pub_en: true   # Publish scan in body frame

pcd_save:
    pcd_save_en: false            # Save point cloud to PCD file
    interval: -1                  # -1 = save all in one file
